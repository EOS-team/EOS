/* Downstream modifications to bcm2835-rpi.dtsi */

/ {
	aliases {
		audio = &audio;
		aux = &aux;
		sound = &sound;
		soc = &soc;
		dma = &dma;
		intc = &intc;
		watchdog = &watchdog;
		random = &random;
		mailbox = &mailbox;
		gpio = &gpio;
		uart0 = &uart0;
		uart1 = &uart1;
		sdhost = &sdhost;
		mmc = &mmc;
		mmc1 = &mmc;
		mmc0 = &sdhost;
		i2s = &i2s;
		i2c0 = &i2c0;
		i2c1 = &i2c1;
		i2c10 = &i2c_csi_dsi;
		spi0 = &spi0;
		spi1 = &spi1;
		spi2 = &spi2;
		usb = &usb;
		leds = &leds;
		fb = &fb;
		thermal = &thermal;
		axiperf = &axiperf;
	};

	/* Define these notional regulators for use by overlays */
	vdd_3v3_reg: fixedregulator_3v3 {
		compatible = "regulator-fixed";
		regulator-always-on;
		regulator-max-microvolt = <3300000>;
		regulator-min-microvolt = <3300000>;
		regulator-name = "3v3";
	};

	vdd_5v0_reg: fixedregulator_5v0 {
		compatible = "regulator-fixed";
		regulator-always-on;
		regulator-max-microvolt = <5000000>;
		regulator-min-microvolt = <5000000>;
		regulator-name = "5v0";
	};

	leds: leds {
		compatible = "gpio-leds";
	};

	soc {
		gpiomem {
			compatible = "brcm,bcm2835-gpiomem";
			reg = <0x7e200000 0x1000>;
		};

		fb: fb {
			compatible = "brcm,bcm2708-fb";
			firmware = <&firmware>;
			status = "okay";
		};

		vcsm: vcsm {
			compatible = "raspberrypi,bcm2835-vcsm";
			firmware = <&firmware>;
			status = "okay";
		};

		/* External sound card */
		sound: sound {
			status = "disabled";
		};
	};

	__overrides__ {
		cache_line_size;

		uart0 = <&uart0>,"status";
		uart1 = <&uart1>,"status";
		i2s = <&i2s>,"status";
		spi = <&spi0>,"status";
		i2c0 = <&i2c0if>,"status",<&i2c0mux>,"status";
		i2c1 = <&i2c1>,"status";
		i2c0_baudrate = <&i2c0if>,"clock-frequency:0";
		i2c1_baudrate = <&i2c1>,"clock-frequency:0";

		audio = <&audio>,"status";
		watchdog = <&watchdog>,"status";
		random = <&random>,"status";
		sd_overclock = <&sdhost>,"brcm,overclock-50:0";
		sd_force_pio = <&sdhost>,"brcm,force-pio?";
		sd_pio_limit = <&sdhost>,"brcm,pio-limit:0";
		sd_debug     = <&sdhost>,"brcm,debug";
		sdio_overclock = <&mmc>,"brcm,overclock-50:0",
				 <&mmcnr>,"brcm,overclock-50:0";
		axiperf      = <&axiperf>,"status";
	};
};

&uart0 {
	skip-init;
};

&uart1 {
	skip-init;
};

&txp {
	status = "disabled";
};

&i2c0if {
	status = "disabled";
};

&i2c0mux {
	status = "disabled";
};

&i2c1 {
	status = "disabled";
};

&clocks {
	firmware = <&firmware>;
};

&sdhci {
	pinctrl-names = "default";
	pinctrl-0 = <&emmc_gpio48>;
	bus-width = <4>;
};

&cpu_thermal {
	/delete-node/ trips;
};

&vec {
	status = "disabled";
};

&vchiq {
	/* Onboard audio */
	audio: bcm2835_audio {
		compatible = "brcm,bcm2835-audio";
		brcm,pwm-channels = <8>;
		status = "disabled";
	};
};
